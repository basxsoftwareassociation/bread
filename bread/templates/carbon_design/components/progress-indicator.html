{% load carbon_design_tags %}
<!--
  Copyright IBM Corp. 2016, 2018

  This source code is licensed under the Apache-2.0 license found in the
  LICENSE file in the root directory of this source tree.
-->

<ul data-progress data-progress-current class="bx--progress {% if vertical %}bx--progress--vertical{% endif %}">
  {% for steps_i in steps %}
    <li class="bx--progress-step bx--progress-step--{{ steps_i.state }} {% if steps_i.disabled %} bx--progress-step--disabled {% endif %}" {% if steps_i.invalid %} data-invalid {% endif %} {% if steps_i.disabled %} aria-disabled="true" {% endif %}>
      {% if steps_i.state == [object Object] %}
        {% carbon_icon "?" %}
      {% endif %}
      {% if steps_i.state == [object Object] %}
        <svg>
          <path d="M 7, 7 m -7, 0 a 7,7 0 1,0 14,0 a 7,7 0 1,0 -14,0" ></path>
        </svg>
      {% endif %}
      {% if steps_i.state == [object Object] %}
        {% if steps_i.invalid %}
          {% carbon_icon "?" %}
        {% else %}
          <svg>
            <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"></path>
          </svg>
        {% endif %}
      {% endif %}
      <p tabindex="0" class="bx--progress-label"{% if steps_i.overflow %} aria-describedby="label-tooltip{{ steps_i.tooltipId }}"{% endif %}>
        {% if steps_i.overflow %}
          {% if vertical %}
            {{ steps_i.label }}
          {% else %}
            {{ steps_i.overflowLabel }}
          {% endif %}
        {% else %}
          {{ steps_i.label }}
        {% endif %}
      </p>
      <div id="label-tooltip{{ steps_i.tooltipId }}" role="tooltip" data-floating-menu-direction="bottom" class="bx--tooltip" data-avoid-focus-on-open>
        <span class="bx--tooltip__caret"></span>
        <p class="bx--tooltip__text">{{ steps_i.overflowLabel }}</p>
      </div>
      {% if steps_i.optional %}
        <p class="bx--progress-optional">{{ steps_i.optionalLabel }}</p>
      {% endif %}
      <span class="bx--progress-line"></span>
    </li>
  {% endfor %}
</ul>


{% comment %}
Original handlebar template:

<!--
  Copyright IBM Corp. 2016, 2018

  This source code is licensed under the Apache-2.0 license found in the
  LICENSE file in the root directory of this source tree.
-->

<ul data-progress data-progress-current class="{{@root.prefix}}--progress {{#if vertical}}{{@root.prefix}}--progress--vertical{{/if}}">
  {{#each steps}}
    <li class="{{@root.prefix}}--progress-step {{@root.prefix}}--progress-step--{{state}} {{#if disabled}} {{@root.prefix}}--progress-step--disabled {{/if}}" {{#if invalid}} data-invalid {{/if}} {{#if disabled}} aria-disabled="true" {{/if}}>
      {{#is state "complete"}}
        {{carbon-icon 'CheckmarkOutline16'}}
      {{/is}}
      {{#is state "current"}}
        <svg>
          <path d="M 7, 7 m -7, 0 a 7,7 0 1,0 14,0 a 7,7 0 1,0 -14,0" ></path>
        </svg>
      {{/is}}
      {{#is state "incomplete"}}
        {{#if invalid}}
          {{carbon-icon 'Warning16' class=(add @root.prefix '--progress__warning')}}
        {{else}}
          <svg>
            <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"></path>
          </svg>
        {{/if}}
      {{/is}}
      <p tabindex="0" class="{{@root.prefix}}--progress-label"{{#if overflow}} aria-describedby="label-tooltip{{tooltipId}}"{{/if}}>
        {{#if overflow}}
          {{#if ../vertical}}
            {{label}}
          {{else}}
            {{overflowLabel}}
          {{/if}}
        {{else}}
          {{label}}
        {{/if}}
      </p>
      <div id="label-tooltip{{tooltipId}}" role="tooltip" data-floating-menu-direction="bottom" class="{{@root.prefix}}--tooltip" data-avoid-focus-on-open>
        <span class="{{@root.prefix}}--tooltip__caret"></span>
        <p class="{{@root.prefix}}--tooltip__text">{{overflowLabel}}</p>
      </div>
      {{#if optional}}
        <p class="{{@root.prefix}}--progress-optional">{{optionalLabel}}</p>
      {{/if}}
      <span class="{{@root.prefix}}--progress-line"></span>
    </li>
  {{/each}}
</ul>

{% endcomment %}