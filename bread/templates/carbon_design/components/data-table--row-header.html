<!--
  Copyright IBM Corp. 2016, 2018

  This source code is licensed under the Apache-2.0 license found in the
  LICENSE file in the root directory of this source tree.
-->

  <!-- Table -->
  <table class="{{ root.prefix }}--data-table {% if truncate %}{{ root.prefix }}--data-table--overflow-truncate{% endif %}{% if sticky %} {{ root.prefix }}--data-table--sticky-header{% endif %}{% if zebra %} {{ root.prefix }}--data-table--zebra{% endif %}{% if small %} {{ root.prefix }}--data-table--compact{% endif %}{% if tall %} {{ root.prefix }}--data-table--tall{% endif %}{% if sort %} {{ root.prefix }}--data-table--sort{% endif %}{% if displayOverflowMenus %} {{ root.prefix }}--data-table--visible-overflow-menu{% endif %} {% if short %}{{ root.prefix }}--data-table--short{% endif %} {% if static %}{{ root.prefix }}--data-table--static{% endif %}" >
    <thead>
      <tr>
        {% for columns_i in columns %}
          <th {% if columns_i.checkbox %} class="{{ columns_i.root,prefix }}--table-column-checkbox" {% endif %}{% if columns_i.section %}class="{{ columns_i.root,prefix }}--table-expand"{% endif %} {% if columns_i.numerical %} class="{{ columns_i.root,prefix }}--data-table--numerical-cell"{% endif %} {% if columns_i.section %} data-event="expandAll"{% endif %}>
            <!-- checkbox th -->
            {% if columns_i.checkbox %}
              <input data-event="select-all" id="{{ columns_i.checkboxId }}" class="{{ columns_i.root,prefix }}--checkbox" type="checkbox" value="{{ columns_i.checkboxValue }}" name="{{ columns_i.checkboxName }}">
              <label for="{{ columns_i.checkboxId }}" class="{{ columns_i.root,prefix }}--checkbox-label" aria-label="{{ columns_i.title }}"></label>
            {% elif undefined %}
              <button class="{{ columns_i.root,prefix }}--table-expand__button">
                {{ columns_i.carbon-icon }}
              </button>
            {% elif undefined %}
            <!-- sortable th  -->
              {% if columns_i.sortable %}
                <button class="{{ columns_i.root,prefix }}--table-sort" data-event="sort" title="{{ columns_i.title }}">
                  <span class="{{ columns_i.root,prefix }}--table-header-label">{{ columns_i.title }}</span>
                  {{ columns_i.carbon-icon }}
                  {{ columns_i.carbon-icon }}
                  {% if truncate %}
                    <div id="label-tooltip" role="tooltip" data-floating-menu-direction="bottom" class="{{ columns_i.root,prefix }}--tooltip" data-avoid-focus-on-open>
                      <span class="{{ columns_i.root,prefix }}--tooltip__caret"></span>
                      <p class="{{ columns_i.root,prefix }}--tooltip__text">{{ columns_i.title }}</p>
                    </div>
                  {% endif %}
                </button>
              <!-- no sort th -->
                {% elif columns_i.small %}
                  {{ columns_i.title }}
                {% else %}
                  <span class="{{ columns_i.root,prefix }}--table-header-label">{{ columns_i.title }}</span>
                {% endif %}
              {% endif %}
          </th>
        {% endfor %}
      </tr>
    </thead>
  <tbody>
    {% for row in rows %}
      <!-- the first cell of each row is a th[scope="row"], otherwise it is a td -->
      <tr{% if row.sectionContent %} class="{{ row.root,prefix }}--parent-row" data-parent-row {% endif %} {% if row.disabled %} class="{{ row.root,prefix }}--row-disabled" {% endif %}>
        {% for index, column in columns.items %}
          {{# with }}
            {% if column.first %}
              <th {% if column.numerical %} class="{{ column.root,prefix }}--data-table--numerical-cell" {% endif %} scope="row">
                <!-- truncated new markup -->
                {% if truncate %}
                  <span class="{{ column.root,prefix }}--table-cell-content" aria-describedby="label-tooltip">{{ column.data }}
                      {% if ??? %}
                        {% if undefined %}
                        <div class="{{ column.root,prefix }}--data-table--cell-secondary-text">
                          {{ row.secondaryText }}
                        </div>
                        {% endif %}
                      {% endif %}
                    </span>
                  <div id="label-tooltip" role="tooltip" data-floating-menu-direction="bottom" class="{{ column.root,prefix }}--tooltip" data-avoid-focus-on-open>
                    <span class="{{ column.root,prefix }}--tooltip__caret"></span>
                    <p class="{{ column.root,prefix }}--tooltip__text">{{ column.data }}</p>
                  </div>
                <!-- default (non truncated) -->
                {% else %}
                  {{ column.data }}
                  {% if ??? %}
                    {% if undefined %}
                    <div class="{{ column.root,prefix }}--data-table--cell-secondary-text">
                      {{ row.secondaryText }}
                    </div>
                    {% endif %}
                  {% endif %}
                {% endif %}
              </th>
            {% else %}
              <td {% if column.numerical %} class="{{ column.root,prefix }}--data-table--numerical-cell" {% endif %}>
                <!-- truncated new markup -->
                {% if truncate %}
                  <span class="{{ column.root,prefix }}--table-cell-content" aria-describedby="label-tooltip">{{ column.data }}
                      {% if ??? %}
                        {% if undefined %}
                        <div class="{{ column.root,prefix }}--data-table--cell-secondary-text">
                          {{ row.secondaryText }}
                        </div>
                        {% endif %}
                      {% endif %}
                    </span>
                  <div id="label-tooltip" role="tooltip" data-floating-menu-direction="bottom" class="{{ column.root,prefix }}--tooltip" data-avoid-focus-on-open>
                    <span class="{{ column.root,prefix }}--tooltip__caret"></span>
                    <p class="{{ column.root,prefix }}--tooltip__text">{{ column.data }}</p>
                  </div>
                <!-- default (non truncated) -->
                {% else %}
                  {{ column.data }}
                  {% if ??? %}
                    {% if undefined %}
                    <div class="{{ column.root,prefix }}--data-table--cell-secondary-text">
                      {{ row.secondaryText }}
                    </div>
                    {% endif %}
                  {% endif %}
                {% endif %}
              </td>
            {% endif %}
          {{/with}}
        {% endfor %}
      </tr>
      <!-- Expandable child row -->
      {% if row.sectionContent %}
          <tr class="{{ row.root,prefix }}--expandable-row {{ row.root,prefix }}--expandable-row--hidden" data-child-row>
            <td colspan="{{ columns.length }}">
              <div class="{{ row.root,prefix }}--child-row-inner-container">
                {{ row.sectionContent|safe }}
              </div>
            </td>
          </tr>
        {% endif %}
      {% endfor %}
    </tbody>
  </table>
  {% if sticky %}
  </section>
  {% endif %}

 {% if undefined %}</div>{% endif %}
